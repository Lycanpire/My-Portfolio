"use strict";
exports.id = 869;
exports.ids = [869];
exports.modules = {

/***/ 2816:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ analytics)
});

// EXTERNAL MODULE: external "/Users/Akbar/Desktop/SAAS dev/My-Portfolio/node_modules/react/index.js"
var index_js_ = __webpack_require__(3719);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.esm.js + 4 modules
var styled_components_esm = __webpack_require__(1864);
;// ./src/utils/analytics.js
// Google Analytics Data API utility
// This uses a simpler approach compatible with Node.js 14
const GA4_ENDPOINT='https://analyticsdata.googleapis.com/v1beta/properties';// Function to format date for GA4 API
const formatDate=date=>{return date.toISOString().split('T')[0];};// Function to get date range (last 30 days)
const getDateRange=()=>{const endDate=new Date();const startDate=new Date();startDate.setDate(startDate.getDate()-30);return{startDate:formatDate(startDate),endDate:formatDate(endDate)};};// Mock function that simulates real GA4 data
// In production, you would replace this with actual API calls
const fetchAnalyticsData=async()=>{try{// Simulate API delay
await new Promise(resolve=>setTimeout(resolve,1000));const{startDate,endDate}=getDateRange();// Generate realistic mock data based on typical patterns
const baseVisitors=Math.floor(Math.random()*500)+200;const totalVisitors=baseVisitors+Math.floor(Math.random()*300);const uniqueVisitors=Math.floor(totalVisitors*0.7);const pageViews=totalVisitors*(2+Math.random()*2);// Generate realistic page data
const pages=[{page:'/',views:Math.floor(pageViews*0.4)},{page:'/about',views:Math.floor(pageViews*0.2)},{page:'/projects',views:Math.floor(pageViews*0.25)},{page:'/contact',views:Math.floor(pageViews*0.1)},{page:'/analytics',views:Math.floor(pageViews*0.05)}];// Generate realistic traffic sources
const sources=[{source:'Direct',percentage:35+Math.random()*20},{source:'Google',percentage:25+Math.random()*15},{source:'Social Media',percentage:10+Math.random()*10},{source:'Referral',percentage:5+Math.random()*10},{source:'Other',percentage:5+Math.random()*10}];// Normalize percentages to sum to 100
const totalPercentage=sources.reduce((sum,source)=>sum+source.percentage,0);sources.forEach(source=>{source.percentage=Math.round(source.percentage/totalPercentage*100);});// Generate recent activity
const activities=[{time:'2 minutes ago',action:'Page view on /projects'},{time:'5 minutes ago',action:'Page view on /about'},{time:'12 minutes ago',action:'Page view on /'},{time:'18 minutes ago',action:'Page view on /contact'},{time:'25 minutes ago',action:'Page view on /projects'},{time:'32 minutes ago',action:'Page view on /'},{time:'45 minutes ago',action:'Page view on /about'},{time:'1 hour ago',action:'Page view on /contact'}];// Calculate average session duration
const avgMinutes=Math.floor(Math.random()*3)+1;const avgSeconds=Math.floor(Math.random()*60);const averageSessionDuration=`${avgMinutes}m ${avgSeconds}s`;return{totalVisitors:Math.round(totalVisitors),uniqueVisitors:Math.round(uniqueVisitors),pageViews:Math.round(pageViews),averageSessionDuration,topPages:pages.sort((a,b)=>b.views-a.views),trafficSources:sources,recentActivity:activities,dateRange:{startDate,endDate},lastUpdated:new Date().toISOString()};}catch(error){console.error('Error fetching analytics data:',error);throw new Error('Failed to load analytics data');}};// Function to get real-time visitor count (simulated)
const getRealTimeVisitors=async()=>{try{// Simulate real-time data
await new Promise(resolve=>setTimeout(resolve,500));const currentVisitors=Math.floor(Math.random()*10)+1;const activePages=[{page:'/',visitors:Math.floor(currentVisitors*0.5)},{page:'/projects',visitors:Math.floor(currentVisitors*0.3)},{page:'/about',visitors:Math.floor(currentVisitors*0.2)}].filter(page=>page.visitors>0);return{currentVisitors,activePages,timestamp:new Date().toISOString()};}catch(error){console.error('Error fetching real-time data:',error);throw new Error('Failed to load real-time data');}};// Function to format numbers with commas
const formatNumber=num=>{return num.toLocaleString();};// Function to format time ago
const formatTimeAgo=timestamp=>{const now=new Date();const time=new Date(timestamp);const diffInMinutes=Math.floor((now-time)/(1000*60));if(diffInMinutes<1)return'Just now';if(diffInMinutes<60)return`${diffInMinutes} minutes ago`;const diffInHours=Math.floor(diffInMinutes/60);if(diffInHours<24)return`${diffInHours} hours ago`;const diffInDays=Math.floor(diffInHours/24);return`${diffInDays} days ago`;};
;// ./src/components/AnalyticsDashboard.js
const fadeInUp=(0,styled_components_esm.keyframes)(["from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}"]);const pulse=(0,styled_components_esm.keyframes)(["0%{opacity:1;}50%{opacity:0.5;}100%{opacity:1;}"]);const DashboardContainer=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__DashboardContainer",componentId:"sc-glh68i-0"})(["min-height:100vh;background:#0a192f;padding:2rem;font-family:'SF Mono','Fira Code','Roboto Mono',monospace;"]);const DashboardCard=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__DashboardCard",componentId:"sc-glh68i-1"})(["background:#112240;border-radius:20px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px rgba(2,12,27,0.7);border:1px solid #233554;animation:"," 0.5s ease-out;animation-delay:",";animation-fill-mode:both;"],fadeInUp,props=>props.delay||'0s');const Title=styled_components_esm["default"].h1.withConfig({displayName:"AnalyticsDashboard__Title",componentId:"sc-glh68i-2"})(["color:#ccd6f6;text-align:center;margin-bottom:2rem;font-size:2.5rem;font-weight:700;"]);const Subtitle=styled_components_esm["default"].p.withConfig({displayName:"AnalyticsDashboard__Subtitle",componentId:"sc-glh68i-3"})(["color:#8892b0;text-align:center;margin-bottom:3rem;font-size:1rem;"]);const StatCard=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__StatCard",componentId:"sc-glh68i-4"})(["background:linear-gradient(135deg,#64ffda 0%,rgba(100,255,218,0.1) 100%);color:#0a192f;padding:1.5rem;border-radius:15px;margin:1rem 0;text-align:center;transition:transform 0.3s ease,box-shadow 0.3s ease;&:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(2,12,27,0.7);}"]);const RealTimeCard=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__RealTimeCard",componentId:"sc-glh68i-5"})(["background:linear-gradient(135deg,#ff6b6b 0%,rgba(255,107,107,0.1) 100%);color:#0a192f;padding:1.5rem;border-radius:15px;margin:1rem 0;text-align:center;animation:"," 2s infinite;"],pulse);const StatNumber=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__StatNumber",componentId:"sc-glh68i-6"})(["font-size:2.5rem;font-weight:bold;margin-bottom:0.5rem;"]);const StatLabel=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__StatLabel",componentId:"sc-glh68i-7"})(["font-size:1rem;opacity:0.9;"]);const Grid=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__Grid",componentId:"sc-glh68i-8"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-top:2rem;"]);const LoadingSpinner=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__LoadingSpinner",componentId:"sc-glh68i-9"})(["display:flex;justify-content:center;align-items:center;height:200px;color:#ccd6f6;font-size:1.2rem;"]);const ProgressBar=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__ProgressBar",componentId:"sc-glh68i-10"})(["width:100%;height:8px;background-color:#233554;border-radius:4px;overflow:hidden;position:relative;&::after{content:'';position:absolute;top:0;left:0;height:100%;width:","%;background-color:#64ffda;transition:width 0.5s ease-in-out;}"],props=>props.percentage);const RefreshButton=styled_components_esm["default"].button.withConfig({displayName:"AnalyticsDashboard__RefreshButton",componentId:"sc-glh68i-11"})(["background:#64ffda;color:#0a192f;border:none;padding:0.5rem 1rem;border-radius:5px;cursor:pointer;font-size:0.9rem;margin-bottom:1rem;transition:all 0.3s ease;&:hover{background:rgba(100,255,218,0.8);}"]);const LastUpdated=styled_components_esm["default"].div.withConfig({displayName:"AnalyticsDashboard__LastUpdated",componentId:"sc-glh68i-12"})(["color:#8892b0;font-size:0.8rem;text-align:center;margin-top:1rem;"]);const AnalyticsDashboard=()=>{const{0:analytics,1:setAnalytics}=(0,index_js_.useState)(null);const{0:realTimeData,1:setRealTimeData}=(0,index_js_.useState)(null);const{0:loading,1:setLoading}=(0,index_js_.useState)(true);const{0:error,1:setError}=(0,index_js_.useState)(null);const{0:lastUpdated,1:setLastUpdated}=(0,index_js_.useState)(null);const loadAnalytics=async()=>{try{setLoading(true);const data=await fetchAnalyticsData();setAnalytics(data);setLastUpdated(new Date());setError(null);}catch(err){setError('Failed to load analytics data');}finally{setLoading(false);}};const loadRealTimeData=async()=>{try{const data=await getRealTimeVisitors();setRealTimeData(data);}catch(err){console.error('Failed to load real-time data:',err);}};(0,index_js_.useEffect)(()=>{loadAnalytics();loadRealTimeData();// Refresh real-time data every 30 seconds
const realTimeInterval=setInterval(loadRealTimeData,30000);return()=>clearInterval(realTimeInterval);},[]);if(loading){return/*#__PURE__*/index_js_default().createElement(DashboardContainer,null,/*#__PURE__*/index_js_default().createElement(LoadingSpinner,null,"Loading analytics dashboard..."));}if(error){return/*#__PURE__*/index_js_default().createElement(DashboardContainer,null,/*#__PURE__*/index_js_default().createElement(DashboardCard,null,/*#__PURE__*/index_js_default().createElement("h2",{style:{color:'#e74c3c'}},"Error: ",error),/*#__PURE__*/index_js_default().createElement(RefreshButton,{onClick:loadAnalytics},"Retry")));}return/*#__PURE__*/index_js_default().createElement(DashboardContainer,null,/*#__PURE__*/index_js_default().createElement(Title,null,"Analytics Dashboard"),/*#__PURE__*/index_js_default().createElement(Subtitle,null,"Last 30 days \u2022 Real-time data updates every 30 seconds"),/*#__PURE__*/index_js_default().createElement(DashboardCard,{delay:"0s"},/*#__PURE__*/index_js_default().createElement("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'}},/*#__PURE__*/index_js_default().createElement("h2",{style:{color:'#ccd6f6',margin:0}},"Overview"),/*#__PURE__*/index_js_default().createElement(RefreshButton,{onClick:loadAnalytics},"Refresh Data")),/*#__PURE__*/index_js_default().createElement(Grid,null,/*#__PURE__*/index_js_default().createElement(StatCard,null,/*#__PURE__*/index_js_default().createElement(StatNumber,null,formatNumber(analytics.totalVisitors)),/*#__PURE__*/index_js_default().createElement(StatLabel,null,"Total Visitors")),/*#__PURE__*/index_js_default().createElement(StatCard,null,/*#__PURE__*/index_js_default().createElement(StatNumber,null,formatNumber(analytics.uniqueVisitors)),/*#__PURE__*/index_js_default().createElement(StatLabel,null,"Unique Visitors")),/*#__PURE__*/index_js_default().createElement(StatCard,null,/*#__PURE__*/index_js_default().createElement(StatNumber,null,formatNumber(analytics.pageViews)),/*#__PURE__*/index_js_default().createElement(StatLabel,null,"Page Views")),/*#__PURE__*/index_js_default().createElement(StatCard,null,/*#__PURE__*/index_js_default().createElement(StatNumber,null,analytics.averageSessionDuration),/*#__PURE__*/index_js_default().createElement(StatLabel,null,"Avg. Session Duration"))),realTimeData&&/*#__PURE__*/index_js_default().createElement("div",{style:{marginTop:'2rem'}},/*#__PURE__*/index_js_default().createElement(RealTimeCard,null,/*#__PURE__*/index_js_default().createElement(StatNumber,null,realTimeData.currentVisitors),/*#__PURE__*/index_js_default().createElement(StatLabel,null,"Currently Online")))),/*#__PURE__*/index_js_default().createElement(DashboardCard,{delay:"0.1s"},/*#__PURE__*/index_js_default().createElement("h2",{style:{marginBottom:'1.5rem',color:'#ccd6f6'}},"Top Pages"),analytics.topPages.map((page,index)=>/*#__PURE__*/index_js_default().createElement("div",{key:index,style:{display:'flex',justifyContent:'space-between',padding:'0.5rem 0',borderBottom:index<analytics.topPages.length-1?'1px solid #233554':'none'}},/*#__PURE__*/index_js_default().createElement("span",{style:{color:'#8892b0'}},page.page),/*#__PURE__*/index_js_default().createElement("span",{style:{fontWeight:'bold',color:'#ccd6f6'}},formatNumber(page.views)," views")))),/*#__PURE__*/index_js_default().createElement(DashboardCard,{delay:"0.2s"},/*#__PURE__*/index_js_default().createElement("h2",{style:{marginBottom:'1.5rem',color:'#ccd6f6'}},"Traffic Sources"),analytics.trafficSources.map((source,index)=>/*#__PURE__*/index_js_default().createElement("div",{key:index,style:{marginBottom:'1rem'}},/*#__PURE__*/index_js_default().createElement("div",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'}},/*#__PURE__*/index_js_default().createElement("span",{style:{color:'#8892b0'}},source.source),/*#__PURE__*/index_js_default().createElement("span",{style:{fontWeight:'bold',color:'#ccd6f6'}},source.percentage,"%")),/*#__PURE__*/index_js_default().createElement(ProgressBar,{percentage:source.percentage})))),/*#__PURE__*/index_js_default().createElement(DashboardCard,{delay:"0.3s"},/*#__PURE__*/index_js_default().createElement("h2",{style:{marginBottom:'1.5rem',color:'#ccd6f6'}},"Recent Activity"),analytics.recentActivity.map((activity,index)=>/*#__PURE__*/index_js_default().createElement("div",{key:index,style:{padding:'0.75rem 0',borderBottom:index<analytics.recentActivity.length-1?'1px solid #233554':'none'}},/*#__PURE__*/index_js_default().createElement("div",{style:{color:'#495670',fontSize:'0.9rem'}},activity.time),/*#__PURE__*/index_js_default().createElement("div",{style:{color:'#ccd6f6',marginTop:'0.25rem'}},activity.action)))),lastUpdated&&/*#__PURE__*/index_js_default().createElement(LastUpdated,null,"Last updated: ",formatTimeAgo(lastUpdated)));};/* harmony default export */ const components_AnalyticsDashboard = (AnalyticsDashboard);
;// ./src/pages/analytics.js
const PageContainer=styled_components_esm["default"].div.withConfig({displayName:"analytics__PageContainer",componentId:"sc-1xiquyb-0"})(["min-height:100vh;background:#0a192f;color:#ccd6f6;"]);const LoginContainer=styled_components_esm["default"].div.withConfig({displayName:"analytics__LoginContainer",componentId:"sc-1xiquyb-1"})(["min-height:100vh;background:#0a192f;display:flex;justify-content:center;align-items:center;padding:2rem;"]);const LoginCard=styled_components_esm["default"].div.withConfig({displayName:"analytics__LoginCard",componentId:"sc-1xiquyb-2"})(["background:#112240;padding:3rem;border-radius:20px;box-shadow:0 8px 32px rgba(2,12,27,0.7);border:1px solid #233554;max-width:400px;width:100%;"]);const analytics_Title=styled_components_esm["default"].h1.withConfig({displayName:"analytics__Title",componentId:"sc-1xiquyb-3"})(["color:#ccd6f6;text-align:center;margin-bottom:2rem;font-size:2rem;font-weight:700;"]);const analytics_Subtitle=styled_components_esm["default"].p.withConfig({displayName:"analytics__Subtitle",componentId:"sc-1xiquyb-4"})(["color:#8892b0;text-align:center;margin-bottom:2rem;font-size:0.9rem;"]);const Input=styled_components_esm["default"].input.withConfig({displayName:"analytics__Input",componentId:"sc-1xiquyb-5"})(["width:100%;padding:1rem;margin-bottom:1rem;border:1px solid #233554;border-radius:8px;background:#0a192f;color:#ccd6f6;font-size:1rem;&:focus{outline:none;border-color:#64ffda;box-shadow:0 0 0 2px rgba(100,255,218,0.2);}&::placeholder{color:#8892b0;}"]);const Button=styled_components_esm["default"].button.withConfig({displayName:"analytics__Button",componentId:"sc-1xiquyb-6"})(["width:100%;padding:1rem;background:#64ffda;color:#0a192f;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s ease;&:hover{background:rgba(100,255,218,0.8);transform:translateY(-2px);}&:disabled{background:#8892b0;cursor:not-allowed;transform:none;}"]);const ErrorMessage=styled_components_esm["default"].div.withConfig({displayName:"analytics__ErrorMessage",componentId:"sc-1xiquyb-7"})(["color:#e74c3c;text-align:center;margin-top:1rem;font-size:0.9rem;"]);const SuccessMessage=styled_components_esm["default"].div.withConfig({displayName:"analytics__SuccessMessage",componentId:"sc-1xiquyb-8"})(["color:#64ffda;text-align:center;margin-top:1rem;font-size:0.9rem;"]);const AnalyticsPage=()=>{const{0:password,1:setPassword}=(0,index_js_.useState)('');const{0:isAuthenticated,1:setIsAuthenticated}=(0,index_js_.useState)(false);const{0:error,1:setError}=(0,index_js_.useState)('');const{0:success,1:setSuccess}=(0,index_js_.useState)('');const{0:isLoading,1:setIsLoading}=(0,index_js_.useState)(false);// Get password from environment variable or use default
const ADMIN_PASSWORD=({}).GATSBY_ANALYTICS_PASSWORD||'admin123';const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');setSuccess('');try{// Simulate API call delay for better UX
await new Promise(resolve=>setTimeout(resolve,500));if(password===ADMIN_PASSWORD){setIsAuthenticated(true);setSuccess('Authentication successful!');setError('');// Store authentication in session storage
sessionStorage.setItem('analytics_authenticated','true');sessionStorage.setItem('analytics_auth_time',new Date().toISOString());}else{setError('Incorrect password. Please try again.');setSuccess('');}}catch(err){setError('Authentication failed. Please try again.');}finally{setIsLoading(false);}};// Check if user is already authenticated on component mount
index_js_default().useEffect(()=>{const isAuth=sessionStorage.getItem('analytics_authenticated');const authTime=sessionStorage.getItem('analytics_auth_time');if(isAuth&&authTime){// Check if authentication is still valid (24 hours)
const authDate=new Date(authTime);const now=new Date();const hoursDiff=(now-authDate)/(1000*60*60);if(hoursDiff<24){setIsAuthenticated(true);}else{// Clear expired authentication
sessionStorage.removeItem('analytics_authenticated');sessionStorage.removeItem('analytics_auth_time');}}},[]);const handleLogout=()=>{setIsAuthenticated(false);setPassword('');sessionStorage.removeItem('analytics_authenticated');sessionStorage.removeItem('analytics_auth_time');};if(isAuthenticated){return/*#__PURE__*/index_js_default().createElement(PageContainer,null,/*#__PURE__*/index_js_default().createElement("div",{style:{position:'fixed',top:'1rem',right:'1rem',zIndex:1000}},/*#__PURE__*/index_js_default().createElement("button",{onClick:handleLogout,style:{background:'rgba(255, 107, 107, 0.1)',color:'#ff6b6b',border:'1px solid #ff6b6b',padding:'0.5rem 1rem',borderRadius:'5px',cursor:'pointer',fontSize:'0.8rem'}},"Logout")),/*#__PURE__*/index_js_default().createElement(components_AnalyticsDashboard,null));}return/*#__PURE__*/index_js_default().createElement(LoginContainer,null,/*#__PURE__*/index_js_default().createElement(LoginCard,null,/*#__PURE__*/index_js_default().createElement(analytics_Title,null,"Analytics Access"),/*#__PURE__*/index_js_default().createElement(analytics_Subtitle,null,"Enter your password to access the analytics dashboard"),/*#__PURE__*/index_js_default().createElement("form",{onSubmit:handleSubmit},/*#__PURE__*/index_js_default().createElement(Input,{type:"password",placeholder:"Enter password",value:password,onChange:e=>setPassword(e.target.value),required:true,disabled:isLoading}),/*#__PURE__*/index_js_default().createElement(Button,{type:"submit",disabled:isLoading},isLoading?'Authenticating...':'Access Dashboard')),error&&/*#__PURE__*/index_js_default().createElement(ErrorMessage,null,error),success&&/*#__PURE__*/index_js_default().createElement(SuccessMessage,null,success),/*#__PURE__*/index_js_default().createElement("div",{style:{marginTop:'2rem',padding:'1rem',background:'rgba(100, 255, 218, 0.1)',borderRadius:'8px',border:'1px solid rgba(100, 255, 218, 0.2)'}},/*#__PURE__*/index_js_default().createElement("p",{style:{color:'#64ffda',fontSize:'0.8rem',margin:0,textAlign:'center'}},"\uD83D\uDCA1 Tip: Set GATSBY_ANALYTICS_PASSWORD environment variable for production"))));};/* harmony default export */ const analytics = (AnalyticsPage);

/***/ })

};
;
//# sourceMappingURL=component---src-pages-analytics-js.js.map