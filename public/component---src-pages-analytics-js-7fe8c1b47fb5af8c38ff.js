"use strict";(self.webpackChunkv4=self.webpackChunkv4||[]).push([[869],{2816:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var n=a(6540),o=a(2568);const r=e=>e.toISOString().split("T")[0],i=async()=>{try{await new Promise(e=>setTimeout(e,1e3));const{startDate:e,endDate:t}=(()=>{const e=new Date,t=new Date;return t.setDate(t.getDate()-30),{startDate:r(t),endDate:r(e)}})(),a=Math.floor(500*Math.random())+200+Math.floor(300*Math.random()),n=Math.floor(.7*a),o=a*(2+2*Math.random()),i=[{page:"/",views:Math.floor(.4*o)},{page:"/about",views:Math.floor(.2*o)},{page:"/projects",views:Math.floor(.25*o)},{page:"/contact",views:Math.floor(.1*o)},{page:"/analytics",views:Math.floor(.05*o)}],l=[{source:"Direct",percentage:35+20*Math.random()},{source:"Google",percentage:25+15*Math.random()},{source:"Social Media",percentage:10+10*Math.random()},{source:"Referral",percentage:5+10*Math.random()},{source:"Other",percentage:5+10*Math.random()}],s=l.reduce((e,t)=>e+t.percentage,0);l.forEach(e=>{e.percentage=Math.round(e.percentage/s*100)});const c=[{time:"2 minutes ago",action:"Page view on /projects"},{time:"5 minutes ago",action:"Page view on /about"},{time:"12 minutes ago",action:"Page view on /"},{time:"18 minutes ago",action:"Page view on /contact"},{time:"25 minutes ago",action:"Page view on /projects"},{time:"32 minutes ago",action:"Page view on /"},{time:"45 minutes ago",action:"Page view on /about"},{time:"1 hour ago",action:"Page view on /contact"}],d=Math.floor(3*Math.random())+1,m=`${d}m ${Math.floor(60*Math.random())}s`;return{totalVisitors:Math.round(a),uniqueVisitors:Math.round(n),pageViews:Math.round(o),averageSessionDuration:m,topPages:i.sort((e,t)=>t.views-e.views),trafficSources:l,recentActivity:c,dateRange:{startDate:e,endDate:t},lastUpdated:(new Date).toISOString()}}catch(e){throw console.error("Error fetching analytics data:",e),new Error("Failed to load analytics data")}},l=e=>e.toLocaleString(),s=(0,o.keyframes)(["from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}"]),c=(0,o.keyframes)(["0%{opacity:1;}50%{opacity:0.5;}100%{opacity:1;}"]),d=o.default.div.withConfig({displayName:"AnalyticsDashboard__DashboardContainer",componentId:"sc-glh68i-0"})(["min-height:100vh;background:#0a192f;padding:2rem;font-family:'SF Mono','Fira Code','Roboto Mono',monospace;"]),m=o.default.div.withConfig({displayName:"AnalyticsDashboard__DashboardCard",componentId:"sc-glh68i-1"})(["background:#112240;border-radius:20px;padding:2rem;margin-bottom:2rem;box-shadow:0 8px 32px rgba(2,12,27,0.7);border:1px solid #233554;animation:"," 0.5s ease-out;animation-delay:",";animation-fill-mode:both;"],s,e=>e.delay||"0s"),g=o.default.h1.withConfig({displayName:"AnalyticsDashboard__Title",componentId:"sc-glh68i-2"})(["color:#ccd6f6;text-align:center;margin-bottom:2rem;font-size:2.5rem;font-weight:700;"]),u=o.default.p.withConfig({displayName:"AnalyticsDashboard__Subtitle",componentId:"sc-glh68i-3"})(["color:#8892b0;text-align:center;margin-bottom:3rem;font-size:1rem;"]),p=o.default.div.withConfig({displayName:"AnalyticsDashboard__StatCard",componentId:"sc-glh68i-4"})(["background:linear-gradient(135deg,#64ffda 0%,rgba(100,255,218,0.1) 100%);color:#0a192f;padding:1.5rem;border-radius:15px;margin:1rem 0;text-align:center;transition:transform 0.3s ease,box-shadow 0.3s ease;&:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(2,12,27,0.7);}"]),f=o.default.div.withConfig({displayName:"AnalyticsDashboard__RealTimeCard",componentId:"sc-glh68i-5"})(["background:linear-gradient(135deg,#ff6b6b 0%,rgba(255,107,107,0.1) 100%);color:#0a192f;padding:1.5rem;border-radius:15px;margin:1rem 0;text-align:center;animation:"," 2s infinite;"],c),h=o.default.div.withConfig({displayName:"AnalyticsDashboard__StatNumber",componentId:"sc-glh68i-6"})(["font-size:2.5rem;font-weight:bold;margin-bottom:0.5rem;"]),y=o.default.div.withConfig({displayName:"AnalyticsDashboard__StatLabel",componentId:"sc-glh68i-7"})(["font-size:1rem;opacity:0.9;"]),b=o.default.div.withConfig({displayName:"AnalyticsDashboard__Grid",componentId:"sc-glh68i-8"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-top:2rem;"]),w=o.default.div.withConfig({displayName:"AnalyticsDashboard__LoadingSpinner",componentId:"sc-glh68i-9"})(["display:flex;justify-content:center;align-items:center;height:200px;color:#ccd6f6;font-size:1.2rem;"]),v=o.default.div.withConfig({displayName:"AnalyticsDashboard__ProgressBar",componentId:"sc-glh68i-10"})(["width:100%;height:8px;background-color:#233554;border-radius:4px;overflow:hidden;position:relative;&::after{content:'';position:absolute;top:0;left:0;height:100%;width:","%;background-color:#64ffda;transition:width 0.5s ease-in-out;}"],e=>e.percentage),E=o.default.button.withConfig({displayName:"AnalyticsDashboard__RefreshButton",componentId:"sc-glh68i-11"})(["background:#64ffda;color:#0a192f;border:none;padding:0.5rem 1rem;border-radius:5px;cursor:pointer;font-size:0.9rem;margin-bottom:1rem;transition:all 0.3s ease;&:hover{background:rgba(100,255,218,0.8);}"]),x=o.default.div.withConfig({displayName:"AnalyticsDashboard__LastUpdated",componentId:"sc-glh68i-12"})(["color:#8892b0;font-size:0.8rem;text-align:center;margin-top:1rem;"]);var _=()=>{const{0:e,1:t}=(0,n.useState)(null),{0:a,1:o}=(0,n.useState)(null),{0:r,1:s}=(0,n.useState)(!0),{0:c,1:_}=(0,n.useState)(null),{0:S,1:D}=(0,n.useState)(null),C=async()=>{try{s(!0);const e=await i();t(e),D(new Date),_(null)}catch(e){_("Failed to load analytics data")}finally{s(!1)}},I=async()=>{try{const e=await(async()=>{try{await new Promise(e=>setTimeout(e,500));const e=Math.floor(10*Math.random())+1;return{currentVisitors:e,activePages:[{page:"/",visitors:Math.floor(.5*e)},{page:"/projects",visitors:Math.floor(.3*e)},{page:"/about",visitors:Math.floor(.2*e)}].filter(e=>e.visitors>0),timestamp:(new Date).toISOString()}}catch(c){throw console.error("Error fetching real-time data:",c),new Error("Failed to load real-time data")}})();o(e)}catch(e){console.error("Failed to load real-time data:",e)}};return(0,n.useEffect)(()=>{C(),I();const e=setInterval(I,3e4);return()=>clearInterval(e)},[]),r?n.createElement(d,null,n.createElement(w,null,"Loading analytics dashboard...")):c?n.createElement(d,null,n.createElement(m,null,n.createElement("h2",{style:{color:"#e74c3c"}},"Error: ",c),n.createElement(E,{onClick:C},"Retry"))):n.createElement(d,null,n.createElement(g,null,"Analytics Dashboard"),n.createElement(u,null,"Last 30 days â€¢ Real-time data updates every 30 seconds"),n.createElement(m,{delay:"0s"},n.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"}},n.createElement("h2",{style:{color:"#ccd6f6",margin:0}},"Overview"),n.createElement(E,{onClick:C},"Refresh Data")),n.createElement(b,null,n.createElement(p,null,n.createElement(h,null,l(e.totalVisitors)),n.createElement(y,null,"Total Visitors")),n.createElement(p,null,n.createElement(h,null,l(e.uniqueVisitors)),n.createElement(y,null,"Unique Visitors")),n.createElement(p,null,n.createElement(h,null,l(e.pageViews)),n.createElement(y,null,"Page Views")),n.createElement(p,null,n.createElement(h,null,e.averageSessionDuration),n.createElement(y,null,"Avg. Session Duration"))),a&&n.createElement("div",{style:{marginTop:"2rem"}},n.createElement(f,null,n.createElement(h,null,a.currentVisitors),n.createElement(y,null,"Currently Online")))),n.createElement(m,{delay:"0.1s"},n.createElement("h2",{style:{marginBottom:"1.5rem",color:"#ccd6f6"}},"Top Pages"),e.topPages.map((t,a)=>n.createElement("div",{key:a,style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:a<e.topPages.length-1?"1px solid #233554":"none"}},n.createElement("span",{style:{color:"#8892b0"}},t.page),n.createElement("span",{style:{fontWeight:"bold",color:"#ccd6f6"}},l(t.views)," views")))),n.createElement(m,{delay:"0.2s"},n.createElement("h2",{style:{marginBottom:"1.5rem",color:"#ccd6f6"}},"Traffic Sources"),e.trafficSources.map((e,t)=>n.createElement("div",{key:t,style:{marginBottom:"1rem"}},n.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"}},n.createElement("span",{style:{color:"#8892b0"}},e.source),n.createElement("span",{style:{fontWeight:"bold",color:"#ccd6f6"}},e.percentage,"%")),n.createElement(v,{percentage:e.percentage})))),n.createElement(m,{delay:"0.3s"},n.createElement("h2",{style:{marginBottom:"1.5rem",color:"#ccd6f6"}},"Recent Activity"),e.recentActivity.map((t,a)=>n.createElement("div",{key:a,style:{padding:"0.75rem 0",borderBottom:a<e.recentActivity.length-1?"1px solid #233554":"none"}},n.createElement("div",{style:{color:"#495670",fontSize:"0.9rem"}},t.time),n.createElement("div",{style:{color:"#ccd6f6",marginTop:"0.25rem"}},t.action)))),S&&n.createElement(x,null,"Last updated: ",(e=>{const t=new Date,a=new Date(e),n=Math.floor((t-a)/6e4);if(n<1)return"Just now";if(n<60)return`${n} minutes ago`;const o=Math.floor(n/60);return o<24?`${o} hours ago`:`${Math.floor(o/24)} days ago`})(S)))};const S=o.default.div.withConfig({displayName:"analytics__PageContainer",componentId:"sc-1xiquyb-0"})(["min-height:100vh;background:#0a192f;color:#ccd6f6;"]),D=o.default.div.withConfig({displayName:"analytics__LoginContainer",componentId:"sc-1xiquyb-1"})(["min-height:100vh;background:#0a192f;display:flex;justify-content:center;align-items:center;padding:2rem;"]),C=o.default.div.withConfig({displayName:"analytics__LoginCard",componentId:"sc-1xiquyb-2"})(["background:#112240;padding:3rem;border-radius:20px;box-shadow:0 8px 32px rgba(2,12,27,0.7);border:1px solid #233554;max-width:400px;width:100%;"]),I=o.default.h1.withConfig({displayName:"analytics__Title",componentId:"sc-1xiquyb-3"})(["color:#ccd6f6;text-align:center;margin-bottom:2rem;font-size:2rem;font-weight:700;"]),M=o.default.p.withConfig({displayName:"analytics__Subtitle",componentId:"sc-1xiquyb-4"})(["color:#8892b0;text-align:center;margin-bottom:2rem;font-size:0.9rem;"]),A=o.default.input.withConfig({displayName:"analytics__Input",componentId:"sc-1xiquyb-5"})(["width:100%;padding:1rem;margin-bottom:1rem;border:1px solid #233554;border-radius:8px;background:#0a192f;color:#ccd6f6;font-size:1rem;&:focus{outline:none;border-color:#64ffda;box-shadow:0 0 0 2px rgba(100,255,218,0.2);}&::placeholder{color:#8892b0;}"]),k=o.default.button.withConfig({displayName:"analytics__Button",componentId:"sc-1xiquyb-6"})(["width:100%;padding:1rem;background:#64ffda;color:#0a192f;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s ease;&:hover{background:rgba(100,255,218,0.8);transform:translateY(-2px);}&:disabled{background:#8892b0;cursor:not-allowed;transform:none;}"]),N=o.default.div.withConfig({displayName:"analytics__ErrorMessage",componentId:"sc-1xiquyb-7"})(["color:#e74c3c;text-align:center;margin-top:1rem;font-size:0.9rem;"]),P=o.default.div.withConfig({displayName:"analytics__SuccessMessage",componentId:"sc-1xiquyb-8"})(["color:#64ffda;text-align:center;margin-top:1rem;font-size:0.9rem;"]);var T=()=>{const{0:e,1:t}=(0,n.useState)(""),{0:a,1:o}=(0,n.useState)(!1),{0:r,1:i}=(0,n.useState)(""),{0:l,1:s}=(0,n.useState)(""),{0:c,1:d}=(0,n.useState)(!1),m={}.GATSBY_ANALYTICS_PASSWORD||"admin123";n.useEffect(()=>{const e=sessionStorage.getItem("analytics_authenticated"),t=sessionStorage.getItem("analytics_auth_time");if(e&&t){const e=new Date(t);(new Date-e)/36e5<24?o(!0):(sessionStorage.removeItem("analytics_authenticated"),sessionStorage.removeItem("analytics_auth_time"))}},[]);const g=()=>{o(!1),t(""),sessionStorage.removeItem("analytics_authenticated"),sessionStorage.removeItem("analytics_auth_time")};return a?n.createElement(S,null,n.createElement("div",{style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1e3}},n.createElement("button",{onClick:g,style:{background:"rgba(255, 107, 107, 0.1)",color:"#ff6b6b",border:"1px solid #ff6b6b",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.8rem"}},"Logout")),n.createElement(_,null)):n.createElement(D,null,n.createElement(C,null,n.createElement(I,null,"Analytics Access"),n.createElement(M,null,"Enter your password to access the analytics dashboard"),n.createElement("form",{onSubmit:async t=>{t.preventDefault(),d(!0),i(""),s("");try{await new Promise(e=>setTimeout(e,500)),e===m?(o(!0),s("Authentication successful!"),i(""),sessionStorage.setItem("analytics_authenticated","true"),sessionStorage.setItem("analytics_auth_time",(new Date).toISOString())):(i("Incorrect password. Please try again."),s(""))}catch(a){i("Authentication failed. Please try again.")}finally{d(!1)}}},n.createElement(A,{type:"password",placeholder:"Enter password",value:e,onChange:e=>t(e.target.value),required:!0,disabled:c}),n.createElement(k,{type:"submit",disabled:c},c?"Authenticating...":"Access Dashboard")),r&&n.createElement(N,null,r),l&&n.createElement(P,null,l),n.createElement("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(100, 255, 218, 0.1)",borderRadius:"8px",border:"1px solid rgba(100, 255, 218, 0.2)"}},n.createElement("p",{style:{color:"#64ffda",fontSize:"0.8rem",margin:0,textAlign:"center"}},"ðŸ’¡ Tip: Set GATSBY_ANALYTICS_PASSWORD environment variable for production"))))}}}]);
//# sourceMappingURL=component---src-pages-analytics-js-7fe8c1b47fb5af8c38ff.js.map